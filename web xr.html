<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
</head>
<body>
    <!--Exemplo de cenario: https://www.google.com/url?sa=i&url=https%3A%2F%2Fstock.adobe.com%2Fimages%2Fpanorama-lab-360-degrees-laboratory-clean-room-where-experiments-are-conducted-on-human-blood-virtual-panorama-of-the-laboratory-complex-360-degree-overview-of-laboratory-equipment%2F247060215&psig=AOvVaw0XkPsP6_-WsIXYLI0ZwmSv&ust=1713266291847000&source=images&cd=vfe&opi=89978449&ved=0CBIQjRxqFwoTCNjF_7eMxIUDFQAAAAAdAAAAABAE-->
    <a-scene>

        <a-entity position=".5 -1 -.5" rotation="-10 118 0">
          <a-camera></a-camera>
        </a-entity>
        <img id="laboratory" src="science-lab-360.webp">
        <a-sky id="image-360" radius="15" src="#laboratory"></a-sky>

      

        <!-- START -->
        <a-entity text="value: START; color: red" rotation="0 125 0" position="-5 1.5 -1.4" scale="8 8 8" start-animation-on-click></a-entity>
        
        <!-- baloons, equipamento de laboratório -->
        <a-asset-item id="baloes" src="/chemistry_glassware/scene.gltf"></a-asset-item>
        <a-entity gltf-model="#baloes" scale="0.15 0.15 0.15" rotation="0 125 0" position="-5 -4 2"></a-entity>
        
        <!-- bottle, químico verde e respetiva animação-->
        <a-asset-item id="potion" src="/chemical_potion/scene.gltf">

          <!-- Etiqueta 1- substãncia A -->
        <!-- Container da etiqueta -->
        <a-entity a-billboard rotation="16.721 -38.31 19.761" position="-6.705 -3.524 -1.108">
          <!-- Retângulo -->
          <a-plane width="0.6" height="0.2" color="white" rotation="0 180 0"></a-plane>
          <!-- Texto -->
          <a-entity rotation="0 180 0">
              <a-text value="Substância A" color="black" align="center" position="0 0 0.01" width="1.5"></a-text>
          </a-entity>
        </a-asset-item>
        <a-entity gltf-model="#potion" scale="0.15 0.15 0.15" id="bottle"
        animation="property: position; from: -8 -4 -2; to: -6 -.8 4; dur: 5000; loop:true"
        animation__rotate="property: rotation; from: 0 0 0; to: 45 100 50; dur: 5000; loop:true"> 
        </a-entity>
        </a-entity> 

        <!-- cilindro a simular a substância que vai mudar de cor -->
        <a-cylinder color="crimson" height="1.2" radius=".7" position="-5.692 -3.3 4.7"></a-cylinder>

          <!-- Etiqueta 2-sudtãncia B -->
          <!-- Container da etiqueta -->
          <a-entity a-billboard rotation="0 -58.84 0" position="-5 -3.017 4.33">
            <!-- Retângulo -->
            <a-plane width="0.6" height="0.2" color="white" rotation="0 180 0"></a-plane>
            <!-- Texto -->
            <a-entity rotation="0 180 0">
                <a-text value="Substância B" color="black" align="center" position="0 0 0.01" width="1.5
                "></a-text>
            </a-entity>
          </a-entity>
    

        <!--Bolhas-->
        <a-sphere id="sphere1" color="red" radius="0.20" animation="property: position; from: -5.692 -1 4.7; to: -5.692 1 4.7; 
        dur: 2000; loop:true; delay:2000;" material="opacity: 0.5;"></a-sphere>

        <a-sphere id="sphere2" color="red" radius="0.20" animation="property: position; from: -5.2 -1.2 4.7; to: -5.2 1.2 4.7; 
        dur: 2000; loop:true; delay:4000;" material="opacity: 0.5;"></a-sphere>

        <a-sphere id="sphere3" color="red" radius="0.20" animation="property: position; from: -5.3 -1.9 4.7; to: -5.3 1.9 4.7; 
        dur: 2000; loop:true; delay:6000;" material="opacity: 0.5;"></a-sphere>

        <a-sphere id="sphere4" color="red" radius="0.20" animation="property: position; from:-5.4 -1.5 4.7; to:-5.4 1.5 4.7; 
        dur: 2000; loop:true; delay:8000;" material="opacity: 0.5;"></a-sphere>

        <a-sphere id="sphere5" color="red" radius="0.20" animation="property: position; from: -5.3 -1.4 4.7; to: -5.3 1.4 4.7; 
        dur: 2000; loop:true; delay:10000;" material="opacity: 0.5;"></a-sphere>

        <a-sphere id="sphere6" color="red" radius="0.20" animation="property: position; from: -5.4 -1.3 4.7; to: -5.4 1.3 4.7; 
        dur: 2000; loop:true; delay:12000;" material="opacity: 0.5;"></a-sphere>

        <a-sphere id="sphere7" color="red" radius="0.20" animation="property: position; from: -5.5 -1.2 4.7; to: -5.5 1.2 4.7; 
        dur: 2000; loop:true; delay:14000;" material="opacity: 0.5;"></a-sphere>


        <!-- Boneca -->
        <a-entity position="-8 1 8" rotation="0 160 0">
          <!-- Cabelo -->
          <a-box color="#965e36" width="3" depth="1.3" height="4" position="0 -.5 -1"></a-box>
          <a-box color="#965e36" width="2.5" depth="1.8" height="1.6" position="0 .45 0"></a-box>
          <!-- Laço do cabelo -->
          <a-box color="pink" width=".3" depth=".5" height=".8" position="-.3 1.2 0"></a-box>
          <a-box color="pink" width=".3" depth=".5" height=".8" position=".3 1.2 0"></a-box>
          <a-box color="white" width=".3" depth=".5" height=".4" position="0 1.2 0"></a-box>
          
          <!-- Cabeça -->
          <a-sphere position="0 0 0" radius="1.25" color="#fadea2"></a-sphere>
          <!-- Sobrançelhas -->
          <a-box color="#965e36" width=".4" depth=".1" height=".05" rotation="0 25 -10" position=".45 .4 1.1"></a-box>
          <a-box color="#965e36" width=".4" depth=".1" height=".05" rotation="0 -25 10" position="-.45 .4 1.1"></a-box>
          <!-- Olhos -->
          <a-sphere position="-.4 .1 1" radius=".3" color="white"></a-sphere>
          <a-sphere position=".4 .1 1" radius=".3" color="white"></a-sphere>
          <a-sphere position="-.4 .1 1.12" radius=".2" color="black"></a-sphere>
          <a-sphere position=".4 .1 1.12" radius=".2" color="black"></a-sphere>
          <!-- Nariz -->
          <a-box color="#d9b675" width=".1" depth=".1" height=".1" position="0 -.1 1.3"></a-box>
          <!-- Lábios -->
          <a-box color="#EF2D5E" width=".3" depth=".2" height=".15" position="0 -.5 1.1"></a-box>
          <a-box color="#EF2D5E" width=".1" depth=".2" height=".18" rotation="0 0 -30" position="0.15 -.47 1.1"></a-box>
          <a-box color="#EF2D5E" width=".1" depth=".2" height=".18" rotation="0 0 30" position="-0.15 -.47 1.1"></a-box>
          
          <!-- Pescoço -->
          <a-cylinder position="0 -1 0" radius=".5" height="1" color="#fadea2"></a-cylinder>
          <!-- Top -->
          <a-box color="white" width="2" depth="1.6" height="2" position="0 -2.5 0"></a-box>
          
          <!-- Braços -->
          <a-cylinder position="1.3 -2.85 .1" radius=".3" height="2.3" color="white"></a-cylinder>
          <a-cylinder position="-1.3 -2.85 .1" radius=".3" height="2.3" color="white"></a-cylinder>
          <a-sphere position="1.3 -1.7 .1" radius=".3" color="white"></a-sphere>
          <a-sphere position="-1.3 -1.7 .1" radius=".3" color="white"></a-sphere>
          <!-- Mãos -->
          <a-box color="#fadea2" width=".3" depth=".35" height=".4" position="1.3 -4.15 .1"></a-box>
          <a-box color="#fadea2" width=".3" depth=".35" height=".4" position="-1.3 -4.15 .1"></a-box>
          
          <!-- Saia -->
          <a-cone position="0 -4.2 0" height="2.6" radius-top=".64" radius-bottom="1.35" color="white"></a-cone>
          <!-- Pernas -->
          <a-cylinder position=".6 -7 0" radius=".3" height="3.5" color="#fadea2"></a-cylinder>
          <a-cylinder position="-.6 -7 0" radius=".3" height="3.5" color="#fadea2"></a-cylinder>
          <!-- Sapatos -->
          <a-box width=".62" depth="1.2" height=".35" position=".6 -8.8 .25" color="grey"></a-box>
          <a-box width=".62" depth="1.2" height=".35" position="-.6 -8.8 .25" color="grey"></a-box>
          <!-- Pés -->
          <a-box width=".45" depth=".2" height=".3" position=".6 -8.7 .6" color="#fadea2"></a-box>
          <a-box width=".45" depth=".2" height=".3" position="-.6 -8.7 .6" color="#fadea2"></a-box>

        </a-entity>

       

        <!-- box -->
        <!-- <a-entity geometry="primitive: box" position="-8 -4 -2" animation="property: rotation; to: 0 360 0; dur: 2000; easing: linear; loop: true"></a-entity>
    </a-scene> -->
    <!-- <a-scene>
        <a-box 
          animation__move1="
            property: position;
            from: 0 1 -3;
            to: 4 1 -5;
            dur: 3000;
          "
          animation__rotate="
            property: rotation;
            from: 0 0 0;
            to: 0 360 0;
            dur: 2000;
            delay: 3000;
          "
          animation__move2="
            property: position;
            from: 4 1 -5;
            to: -4 1 -7;
            dur: 3000;
            delay: 5000;
          "
          color="#4CC3D9">
        </a-box>
        
      </a-scene> -->
    <script>
      AFRAME.registerComponent('rotation-reader', {
        /**
         * We use IIFE (immediately-invoked function expression) to only allocate one
         * vector or euler and not re-create on every tick to save memory.
         */
        tick: (function () {
          var position = new THREE.Vector3();
          var quaternion = new THREE.Quaternion();

          return function () {
            this.el.object3D.getWorldPosition(position);
            this.el.object3D.getWorldQuaternion(quaternion);
            // position and rotation now contain vector and quaternion in world space.
          };
        })()
      });
    </script>
</body>
</html>